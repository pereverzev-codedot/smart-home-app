(this["webpackJsonpsmart-home-app"]=this["webpackJsonpsmart-home-app"]||[]).push([[0],{149:function(e,t,a){},297:function(e,t,a){},303:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(25),i=a.n(c),r=a(38);function o(){}var l=Object(n.createContext)({token:null,userId:null,login:o,logout:o,isAuthenticated:!1,email:null}),u=a(6),d="userData",j=a(17),b=(a(297),"light"),h=a(2);function v(e){var t=e.imgFile;return Object(h.jsx)("img",{src:"./images/system-icons/".concat(b,"/").concat(t,".svg"),alt:"nav-btn"})}"./images/system-icons/".concat(b,"/Alert.svg"),"./images/system-icons/".concat(b,"/Message.svg"),"./images/system-icons/".concat(b,"/Warning.svg");var m=function(){var e=n.useState(!1),t=Object(u.a)(e,2),a=t[0],s=t[1];return Object(h.jsxs)("div",{className:"nav-bar ".concat(a&&"active"),children:[Object(h.jsx)("span",{className:"nav-bar-toggle",role:"button",tabIndex:0,onClick:function(){s(!a)},children:Object(h.jsx)("span",{className:"nav-bar-toggle-line"})}),Object(h.jsx)("div",{className:"nav-bar-section",children:Object(h.jsx)("div",{className:"nav-bar-content",children:Object(h.jsxs)("div",{className:"nav-panel",children:[Object(h.jsx)(r.b,{to:"/",children:Object(h.jsx)("div",{className:"nav-item",children:Object(h.jsx)(v,{imgFile:"Home"})})}),Object(h.jsx)(r.b,{to:"/first-floor",children:Object(h.jsxs)("div",{className:"nav-item ",children:[Object(h.jsx)(v,{imgFile:"1st"})," "]})}),Object(h.jsx)(r.b,{to:"/second-floor",children:Object(h.jsxs)("div",{className:"nav-item ",children:[Object(h.jsx)(v,{imgFile:"2nd"})," "]})}),Object(h.jsx)(r.b,{to:"/garage",children:Object(h.jsx)("div",{className:"nav-item ",children:Object(h.jsx)(v,{imgFile:"Garage"})})}),Object(h.jsx)(r.b,{to:"/outside",children:Object(h.jsxs)("div",{className:"nav-item ",children:[Object(h.jsx)(v,{imgFile:"Outside"})," "]})}),Object(h.jsx)(r.b,{to:"/graphics",children:Object(h.jsx)("div",{className:"nav-item ",children:Object(h.jsx)(v,{imgFile:"Graphs"})})}),Object(h.jsx)(r.b,{to:"/notifications",children:Object(h.jsx)("div",{className:"nav-item ",children:Object(h.jsx)(v,{imgFile:"Notifications"})})})]})})})]})};a(303);var p=function(e){var t=function(e){var t=new Date((new Date).getTime()+1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),s=t.getUTCSeconds();return"".concat(a,":").concat(n,":").concat(s)},a=n.useState(t(e.offset)),s=Object(u.a)(a,2),c=s[0],i=s[1],r=n.useState("\u0412\u0442\u043e\u0440\u043d\u0438\u043a"),o=Object(u.a)(r,2),l=o[0],d=o[1],j=n.useState("8 \u0438\u044e\u043d\u044f"),b=Object(u.a)(j,2),v=b[0],m=b[1],p=function(){i(t(e.offset))};return n.useEffect((function(){var t,a,n=new Date((new Date).getTime()+1e3*e.offset);switch(n.getUTCMonth()){case 0:t="\u042f\u043d\u0432\u0430\u0440\u044f";break;case 1:t="\u0424\u0435\u0432\u0440\u0430\u043b\u044f";break;case 2:t="\u041c\u0430\u0440\u0442\u0430";break;case 3:t="\u0410\u043f\u0440\u0435\u043b\u044f";break;case 4:t="\u041c\u0430\u044f";break;case 5:t="\u0418\u044e\u043d\u044f";break;case 6:t="\u0418\u044e\u043b\u044f";break;case 7:t="\u0410\u0432\u0433\u0443\u0441\u0442\u0430";break;case 8:t="\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f";break;case 9:t="\u041e\u043a\u0442\u044f\u0431\u0440\u044f";break;case 10:t="\u041d\u043e\u044f\u0431\u0440\u044f";break;default:t="\u0414\u0435\u043a\u0430\u0431\u0440\u044f"}switch(n.getUTCDay()){case 1:a="\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a";break;case 2:a="\u0412\u0442\u043e\u0440\u043d\u0438\u043a";break;case 3:a="\u0421\u0440\u0435\u0434\u0430";break;case 4:a="\u0427\u0435\u0442\u0432\u0435\u0440\u0433";break;case 5:a="\u041f\u044f\u0442\u043d\u0438\u0446\u0430";break;case 6:a="\u0421\u0443\u0431\u0431\u043e\u0442\u0430";break;default:a="\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"}d(a),m("".concat(n.getUTCDate()," ").concat(t))}),[d,m,e.offset]),n.useEffect((function(){setTimeout(p,1e3)}),[i,e.offset,p]),Object(h.jsxs)("div",{className:"data-widget",children:[Object(h.jsx)("div",{className:"time-block",children:Object(h.jsx)("span",{className:"time-text",children:c})}),Object(h.jsxs)("div",{className:"date-block",children:[Object(h.jsx)("span",{className:"date-text",children:l}),Object(h.jsx)("span",{className:"date-text",children:v})]})]})},x=a(9),O=a.n(x),g=a(22);function f(e){var t,a=n.useState(!1),s=Object(u.a)(a,2),c=s[0],i=s[1],r=n.useState(null),o=Object(u.a)(r,2),l=o[0],d=o[1],j=n.useState(null),b=Object(u.a)(j,2),m=b[0],p=b[1],x=e.msg,O=e.type,g=e.date,f=new Date(Date.parse(g));return n.useEffect((function(){switch(O){case"warning":return p("\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0433\u0440\u043e\u0437\u0430!"),d("Warning");case"alert":return p("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"),d("Alert");case"message":return p("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!"),d("Message");default:return null}}),[O]),Object(h.jsxs)("div",{className:"notification-item ".concat(c&&"active"),children:[Object(h.jsxs)("div",{role:"button",tabIndex:0,className:"notification-title",onClick:function(){i(!c)},children:[Object(h.jsx)("div",{className:"notification-item__image-wrapper",children:Object(h.jsx)(v,{imgFile:l})}),Object(h.jsx)("span",{className:"notification-item__title",children:m}),Object(h.jsx)("span",{className:"notification-item__date",children:(t=f,"".concat(t.getUTCHours(),":").concat(t.getUTCMinutes()," ").concat(t.getUTCDate(),"-").concat(t.getMonth()+1))}),Object(h.jsx)("span",{className:"notification-toggle"})]}),Object(h.jsx)("div",{className:"notification-body",children:x})]})}var w=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(null),i=Object(u.a)(c,2),r=i[0],o=i[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(g.a)(O.a.mark((function e(t){var a,n,c,i,r,l=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,c=l.length>3&&void 0!==l[3]?l[3]:{},s(!0),e.prev=4,n&&(n=JSON.stringify(n),c["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:c});case 8:return i=e.sent,e.next=11,i.json();case 11:if(r=e.sent,i.ok){e.next=14;break}throw new Error(r.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return s(!1),e.abrupt("return",r);case 18:throw e.prev=18,e.t0=e.catch(4),s(!1),o(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:r,clearError:function(){return o(null)}}};a(305);var k=function(){var e=n.useState([]),t=Object(u.a)(e,2),a=t[0],s=t[1],c=w().request,i=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/api/link/warnings","GET",null);case 3:t=e.sent,s(t.slice(t.length-10)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[c]);return n.useEffect((function(){i()}),[i]),Object(h.jsx)("div",{className:"notifications-widget",children:Object(h.jsx)("div",{className:"notification-list",children:a.map((function(e){return Object(h.jsx)(f,{date:e.date,type:e.type,msg:e.message},e._id)}))})})};a(306);var N=function(){return Object(h.jsxs)("div",{className:"user-widget",children:[Object(h.jsx)("div",{className:"user-img-wrapper",children:Object(h.jsx)("img",{src:"https://via.placeholder.com/150",alt:"User inform",className:"user-img"})}),Object(h.jsxs)("div",{className:"user-info-text",children:[Object(h.jsx)("span",{children:"MitsuruYano"}),Object(h.jsx)("span",{children:"ghostsword2409@gmail.com"}),Object(h.jsx)("span",{children:"My sweet home"})]})]})},y=a(511),S=a(494),C=a(509),D=a(495);a(307);function T(){return Object(h.jsx)("div",{className:"col-sm-2",children:Object(h.jsx)("div",{id:"nest3"})})}a(222);function F(e){var t=e.forecast,a=e.daily,s=n.useState(!1),c=Object(u.a)(s,2),i=c[0],r=c[1],o=function(){r(!i)};return void 0!==t[0]?Object(h.jsx)("div",{className:"weather-line",children:a?Object(h.jsx)(y.a,{slidesPerView:2,observer:!0,observeParents:!0,observeSlideChildren:!0,spaceBetween:5,shouldSwiperUpdate:!0,children:t[0].DailyForecasts.map((function(e){var t=new Date(Date.parse(e.Date));return Object(h.jsx)(S.a,{children:Object(h.jsxs)("div",{className:"weather-line-item",children:[Object(h.jsx)("span",{children:"".concat(t.getDate()<10?"0"+t.getDate():t.getDate(),".").concat(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)}),Object(h.jsx)("div",{className:"weather-line-item-dayli",children:Object(h.jsxs)("div",{className:"weather-line-item",role:"button",tabIndex:0,onClick:o,children:[Object(h.jsx)("img",{src:"./images/weather-icons/".concat(i?e.Day.Icon:e.Night.Icon,"-s.png"),alt:"weather-ico",className:"weather-ico-min"}),Object(h.jsx)("span",{className:"weather-line-item__text",children:i?e.Day.IconPhrase:e.Night.IconPhrase}),Object(h.jsxs)("span",{children:[i?e.Temperature.Maximum.Value:e.Temperature.Minimum.Value,"C"]})]})})]})},e._id)}))}):Object(h.jsx)(y.a,{slidesPerView:1,observer:!0,observeParents:!0,observeSlideChildren:!0,spaceBetween:5,shouldSwiperUpdate:!0,children:t[0].twelveHourForecast.map((function(e){var t=new Date(Date.parse(e.DateTime));return Object(h.jsx)(S.a,{children:Object(h.jsxs)("div",{className:"weather-line-item",children:[Object(h.jsx)("span",{children:"".concat(t.getHours()," \u0447\u0430\u0441\u043e\u0432\t").concat(t.getDate()<10?"0"+t.getDate():t.getDate(),".").concat(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)}),Object(h.jsx)("img",{src:"./images/weather-icons/".concat(e.WeatherIcon,"-s.png"),alt:"weather-ico",className:"weather-ico-min"}),Object(h.jsx)("span",{className:"weather-line-item__text",children:e.IconPhrase}),Object(h.jsxs)("span",{children:[e.Temperature.Value,"C"]})]})},e._id)}))})}):Object(h.jsx)("div",{children:"Loading"})}a(308),a(309);C.a.use([D.a]);var I=function(){var e,t,a=w().request,s=n.useState(!0),c=Object(u.a)(s,2),i=c[0],r=c[1],o=n.useState(null),l=Object(u.a)(o,2),d=l[0],j=l[1],b=n.useState(null),v=Object(u.a)(b,2),m=v[0],p=v[1],x=n.useCallback(Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("key").value,n=document.getElementById("value").value,e.next=5,a("/api/link/change","POST",{value:t,key:n});case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[a]),f=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,a("/api/link/weather/daily","GET",null);case 4:t=e.sent,j(t),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[a]),k=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,a("/api/link/weather/hour","GET",null);case 4:t=e.sent,p(t),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[a]);return n.useEffect((function(){var e=!0;return e&&(f(),k()),function(){e=!1}}),[f,k]),i?Object(h.jsx)(T,{}):Object(h.jsxs)("div",{className:"weather-widget",children:[Object(h.jsxs)("div",{className:"weather-active",children:[Object(h.jsxs)("div",{className:"weather-wrapper",children:[Object(h.jsxs)("div",{className:"weather-left",children:[Object(h.jsx)("span",{children:"\u0412\u0438\u0442\u0435\u0431\u0441\u043a"}),Object(h.jsx)("img",{src:"./images/weather-icons/".concat(null!==m&&m[0].twelveHourForecast.find((function(e){var t=new Date(Date.parse(e.DateTime)),a=new Date;return"23"===a.getHours()&&"0"===t.getHours()||t.getHours()===a.getHours()+1?e.WeatherIcon:void 0})).WeatherIcon,"-s.png"),className:"weather-main-icon",alt:"weather-ico"}),Object(h.jsxs)("span",{children:[null!==m&&m[0].twelveHourForecast.map((function(e){var t=new Date(Date.parse(e.DateTime)),a=new Date;return"23"===a.getHours()&&"0"===t.getHours()||t.getHours()===a.getHours()+1?e.Temperature.Value:void 0})),"C"]})]}),Object(h.jsxs)("div",{className:"weather-right",children:[Object(h.jsx)("span",{children:null!==m&&m[0].twelveHourForecast.map((function(e){var t=new Date(Date.parse(e.DateTime)),a=new Date;return"23"===a.getHours()&&"0"===t.getHours()||t.getHours()===a.getHours()+1?e.IconPhrase:void 0}))}),Object(h.jsxs)("span",{children:[null!==d&&(null===(e=d[0])||void 0===e?void 0:e.DailyForecasts[0].Temperature.Maximum.Value),"C",null!==d&&(null===(t=d[0])||void 0===t?void 0:t.DailyForecasts[0].Temperature.Minimum.Value),"C"]})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:null!==d&&d[0].Headline.Text})})]}),Object(h.jsxs)(y.a,{direction:"vertical",children:[Object(h.jsx)(S.a,{children:Object(h.jsx)(F,{daily:!0,forecast:null!==d&&d})}),Object(h.jsx)(S.a,{children:Object(h.jsx)(F,{daily:!1,forecast:null!==m&&m})})]}),Object(h.jsx)("input",{type:"text",id:"key"}),Object(h.jsx)("input",{type:"text",id:"value"}),Object(h.jsx)("button",{onClick:x,type:"button",children:"SEND"})]})},E=(a(310),function(){var e=n.useContext(l),t=Object(j.g)(),a=n.useState(!1),s=Object(u.a)(a,2),c=s[0],i=s[1];return Object(h.jsxs)("div",{className:"right-bar ".concat(c&&"active"),children:[Object(h.jsx)("span",{className:"right-bar-toggle",role:"button",tabIndex:0,onClick:function(){i(!c)},children:Object(h.jsx)("span",{className:"right-bar-toggle-line"})}),Object(h.jsxs)("div",{className:"right-bar-section",children:[Object(h.jsxs)("div",{className:"right-bar-content",children:[Object(h.jsx)(N,{}),Object(h.jsx)(I,{}),Object(h.jsx)(p,{offset:"10800"}),Object(h.jsx)(k,{})]}),Object(h.jsxs)("div",{className:"right-bar-bottom-bar",children:[Object(h.jsx)("div",{className:"bottom-bar_element",onClick:function(){console.log("click")},tabIndex:0,role:"button",children:Object(h.jsx)(v,{imgFile:"Theme"})}),Object(h.jsx)(r.b,{to:"/settings",className:"bottom-bar_element",children:Object(h.jsx)(v,{imgFile:"Union"})}),Object(h.jsx)("a",{className:"bottom-bar_element",onClick:function(a){a.preventDefault(),localStorage.removeItem("userData"),e.logout(),t.push("/")},tabIndex:0,role:"button",children:Object(h.jsx)(v,{imgFile:"Logout"})})]})]})]})}),L=a(510),P=a(499),H=(a(311),function(){return Object(h.jsxs)("div",{className:"account-panel",children:[Object(h.jsxs)("div",{className:"account-info",children:[Object(h.jsx)("img",{alt:"some",className:"account-image",src:""}),Object(h.jsxs)("div",{className:"account-info-block",children:[Object(h.jsx)("span",{className:"account-info__text",children:"Some"}),Object(h.jsx)("span",{className:"account-info__text",children:"Johnlebovski@mail.com"}),Object(h.jsx)("span",{className:"account-info__text",children:"+375(33)3178356"})]})]}),Object(h.jsxs)("div",{className:"change-password",children:[Object(h.jsx)(L.a,{className:"change-pass-input",label:"Old password"}),Object(h.jsx)(L.a,{className:"change-pass-input",label:"New password"}),Object(h.jsx)(L.a,{className:"change-pass-input",label:"Repeat new password"}),Object(h.jsx)(P.a,{className:"change-pass-button",children:"Change password"})]})]})}),M=a(516),_=(a(313),function(){var e=w().request,t=n.useCallback(Object(g.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.parse(localStorage.getItem("userData")),n=a.email,console.log(n),t.next=5,e("/api/link/user","POST",{email:n,settings:[{darkTheme:!0},{somethingElse:!0}]});case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),[e]);return Object(h.jsxs)("div",{className:"settings-panel",children:[Object(h.jsx)("div",{className:"settings-change",children:Object(h.jsxs)("div",{className:"switch-container",children:[Object(h.jsx)("span",{className:"switch-text",children:"Dark theme"}),Object(h.jsx)(M.a,{classname:"switch"})]})}),Object(h.jsx)("div",{className:"app-info",children:Object(h.jsx)("span",{className:"info-text",children:"\u0418\u043d\u0444\u0430 \u043e \u043f\u0440\u043e\u0433\u0435"})}),Object(h.jsx)("div",{role:"button",tabIndex:0,onClick:function(){t()},children:"Save"})]})}),U=(a(314),function(){return Object(h.jsx)("div",{className:"settings-panel",children:Object(h.jsxs)("div",{children:["some option",Object(h.jsx)(M.a,{})]})})}),G=(a(315),function(){return Object(h.jsxs)("div",{className:"settings-main",children:[Object(h.jsx)(H,{}),Object(h.jsx)(_,{}),Object(h.jsx)(U,{})]})}),B=function(){return n.useEffect((function(){document.title="Settings page"})),Object(h.jsx)(G,{})},q=a(501),V=(a(316),function(e){var t=e.data,a=e.switchable,s=w().request,c=n.useState(!0),i=Object(u.a)(c,2);i[0],i[1];var r=function(e,t){for(var a=[],n=0;n<Math.ceil(e.length/t);n+=1)a.push(e.slice(n*t,n*t+t));return a}(t,2);return Object(h.jsxs)("div",{className:"control-block",children:[Object(h.jsx)("div",{className:"sensor-wrapper",children:r.map((function(e){return void 0===e[0]?Object(h.jsx)("div",{className:"wrapper-container",children:Object(h.jsx)(T,{})},10*Math.random()+1):Object(h.jsx)("div",{className:"wrapper-container",children:e.map((function(e){return Object(h.jsxs)("div",{className:"sensor-info",children:[Object(h.jsx)("span",{className:"info-text",children:Object.values(e)[0]}),Object(h.jsx)("span",{className:"info-value",children:Object.values(e)[1]})]},10*Math.random()+1)}))},10*Math.random()+1)}))}),Object(h.jsx)("div",{className:"sensor-switcher",children:void 0===a?Object(h.jsx)(T,{}):a.map((function(e){return void 0===e?null:Object(h.jsxs)("div",{className:"sensor-switch",children:[Object(h.jsx)("span",{className:"switch-text",children:e.title}),Object(h.jsx)(M.a,{onClick:function(){return function(e,t){try{s("/api/link/change","POST",{value:e,key:t})}catch(a){console.log(a)}}(e.key,!e.value)},checked:Boolean(e.value)})]},e.key)}))})]})}),R=(a(149),function(){var e,t,a,s,c,i,r,o,l,d,j,b,v,m,p,x,f,k,N,C,D,T,F,I,E,L,P,H,M,_,U,G,B,R=n.useState([]),A=Object(u.a)(R,2),J=A[0],W=A[1],z=n.useState([]),Y=Object(u.a)(z,2),X=Y[0],K=Y[1],Q=w().request,Z=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q("/api/link/sensor/values","GET",null);case 3:t=e.sent,W(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Q]),$=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q("/api/link/sensor/changable","GET",null);case 3:t=e.sent,K(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Q]),ee=Object(q.a)("(min-width: 641px)");return n.useEffect((function(){document.title="Main page"})),n.useEffect((function(){var e,t,a=!0;return a&&(setTimeout((function(){Z(),$()}),1e3),e=setInterval((function(){Z()}),3e4),t=setInterval((function(){$()}),1e3)),function(){clearInterval(e),clearInterval(t),a=!1}}),[Z,$]),Object(h.jsxs)(y.a,{observeParents:!0,observeSlideChildren:!0,observer:!0,slidesPerView:1,slidesPerColumn:2,spaceBetween:30,resizeObserver:!0,breakpoints:{641:{slidesPerView:2,spaceBetween:30,slidesPerColumn:2},1440:{slidesPerView:2,slidesPerColumn:2,spaceBetween:60}},className:"control-panel ".concat(ee&&" swiper-no-swiping"),children:[Object(h.jsx)(S.a,{children:Object(h.jsx)(V,{data:[null===(e=J[0])||void 0===e?void 0:e.hth.humidity,null===(t=J[0])||void 0===t?void 0:t.hth.temperature,null===(a=J[0])||void 0===a?void 0:a.gas,null===(s=J[0])||void 0===s?void 0:s.lightr1],switchable:[null===(c=X[0])||void 0===c?void 0:c.isAutoLight1,null===(i=X[0])||void 0===i?void 0:i.firstFloorLight,null===(r=X[0])||void 0===r?void 0:r.firstFloorLight1,null===(o=X[0])||void 0===o?void 0:o.firstFloorLight2,null===(l=X[0])||void 0===l?void 0:l.firstFloorLight3,null===(d=X[0])||void 0===d?void 0:d.firstFloorLight4]})}),Object(h.jsx)(S.a,{children:Object(h.jsx)(V,{data:[null===(j=J[0])||void 0===j?void 0:j.hth.humidity,null===(b=J[0])||void 0===b?void 0:b.hth.temperature,null===(v=J[0])||void 0===v?void 0:v.lightr2],switchable:[null===(m=X[0])||void 0===m?void 0:m.isAutoLight2,null===(p=X[0])||void 0===p?void 0:p.secondFloorLight,null===(x=X[0])||void 0===x?void 0:x.secondFloorLight1,null===(f=X[0])||void 0===f?void 0:f.secondFloorLight2,null===(k=X[0])||void 0===k?void 0:k.secondFloorLight3,null===(N=X[0])||void 0===N?void 0:N.secondFloorLight4]})}),Object(h.jsx)(S.a,{children:Object(h.jsx)(V,{data:[null===(C=J[0])||void 0===C?void 0:C.gth.humidity,null===(D=J[0])||void 0===D?void 0:D.gth.temperature,null===(T=J[0])||void 0===T?void 0:T.water],switchable:[null===(F=X[0])||void 0===F?void 0:F.garageLight,null===(I=X[0])||void 0===I?void 0:I.garageLight1,null===(E=X[0])||void 0===E?void 0:E.garageLight2,null===(L=X[0])||void 0===L?void 0:L.waterPump]})}),Object(h.jsx)(S.a,{children:Object(h.jsx)(V,{data:[null===(P=J[0])||void 0===P?void 0:P.oth.humidity,null===(H=J[0])||void 0===H?void 0:H.oth.temperature,null===(M=J[0])||void 0===M?void 0:M.humidity],switchable:[null===(_=X[0])||void 0===_?void 0:_.outsideLight,null===(U=X[0])||void 0===U?void 0:U.outsideLight1,null===(G=X[0])||void 0===G?void 0:G.outsideLight2,null===(B=X[0])||void 0===B?void 0:B.waterFlap]})})]})}),A=function(){return Object(h.jsx)(R,{})},J=a(90),W=a(16),z=a(512),Y=a(515),X=function(){var e=s.a.useState(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],i=s.a.useState("Register success"),o=Object(u.a)(i,2),l=o[0],d=o[1],j=s.a.useState("success"),b=Object(u.a)(j,2),v=b[0],m=b[1],p=function(e,t){"clickaway"!==t&&c(!1)},x=w(),f=x.loading,k=x.request,N=x.error,y=Object(n.useState)({nickname:"",email:"",password:"",repeatedPassword:""}),S=Object(u.a)(y,2),C=S[0],D=S[1];Object(n.useEffect)((function(){}),[N]);var T=function(e){D(Object(W.a)(Object(W.a)({},C),{},Object(J.a)({},e.target.name,e.target.value)))},F=function(){var e=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.repeatedPassword!==C.password){e.next=19;break}return e.prev=1,e.next=4,k("api/auth/register","POST",Object(W.a)({},C));case 4:t=e.sent,d("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),m("success"),c(!0),console.log("data: ",t),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("err"),d(e.t0.message),m("error"),c(!0);case 17:e.next=22;break;case 19:d("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),m("error"),c(!0);case 22:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"registration-panel",children:[Object(h.jsxs)("div",{className:"input-panel",children:[Object(h.jsx)(L.a,{className:"data-input",id:"nickname",type:"nickname",name:"nickname",onChange:T,label:"Login"}),Object(h.jsx)(L.a,{className:"data-input",id:"email",type:"email",name:"email",onChange:T,label:"Email"}),Object(h.jsx)(L.a,{className:"data-input",id:"password",type:"password",name:"password",onChange:T,label:"Password"}),Object(h.jsx)(L.a,{className:"data-input",type:"password",name:"repeatedPassword",onChange:T,label:"Repeat password"})]}),Object(h.jsx)("div",{className:"button-panel",children:Object(h.jsxs)("div",{className:"row-js-btw",children:[Object(h.jsx)(r.b,{to:"/login",children:Object(h.jsx)(P.a,{className:"registration-button",children:"Back to login"})}),Object(h.jsx)(P.a,{className:"registration-button",onClick:F,disabled:f,children:"Register"})]})}),Object(h.jsx)(Y.a,{open:a,autoHideDuration:6e3,onClose:p,children:Object(h.jsx)(z.a,{onClose:p,severity:v,children:l})})]})},K=function(){return n.useEffect((function(){document.title="Registration"})),Object(h.jsx)(X,{})},Q=function(){var e=Object(n.useContext)(l),t=s.a.useState(!1),a=Object(u.a)(t,2),c=a[0],i=a[1],o=s.a.useState("Register success"),d=Object(u.a)(o,2),j=d[0],b=d[1],v=s.a.useState("success"),m=Object(u.a)(v,2),p=m[0],x=m[1],f=function(e,t){"clickaway"!==t&&i(!1)},k=w(),N=(k.loading,k.error,k.request),y=Object(n.useState)({email:"",password:""}),S=Object(u.a)(y,2),C=S[0],D=S[1],T=function(e){D(Object(W.a)(Object(W.a)({},C),{},Object(J.a)({},e.target.name,e.target.value)))},F=function(){var t=Object(g.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N("/api/auth/login","POST",Object(W.a)({},C));case 3:a=t.sent,b("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),x("success"),i(!0),e.login(a.token,a.userId,a.email),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),b(t.t0.message),x("error"),i(!0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"login-panel",children:[Object(h.jsxs)("div",{className:"input-panel",children:[Object(h.jsx)(L.a,{className:"login-input",id:"email",type:"email",name:"email",label:"Enter Login",onChange:T}),Object(h.jsx)(L.a,{className:"login-input",id:"password",type:"password",name:"password",onChange:T,label:"Password"})]}),Object(h.jsxs)("div",{className:"button-panel",children:[Object(h.jsxs)("div",{className:"row-js-btw",children:[Object(h.jsx)(P.a,{className:"login-button",children:"Forgot password?"}),Object(h.jsx)(P.a,{className:"login-button",onClick:F,children:"Login"})]}),Object(h.jsx)("div",{children:Object(h.jsx)(r.b,{to:"/register",children:Object(h.jsx)("span",{className:"registration-link",children:"Register to manage your home"})})})]}),Object(h.jsx)(Y.a,{open:c,autoHideDuration:6e3,onClose:f,children:Object(h.jsx)(z.a,{onClose:f,severity:p,children:j})})]})},Z=function(){return n.useEffect((function(){document.title="Login page"})),Object(h.jsx)(Q,{})};function $(){return n.useEffect((function(){document.title="Notification page"})),Object(h.jsx)(k,{})}var ee=a(260);a(427);function te(e){var t=e.data,a=void 0===t?[]:t,n=e.title;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"graphs-wrapper",children:[Object(h.jsxs)("div",{className:"graph-item",children:[Object(h.jsx)("h3",{className:"graph-title",children:n}),Object(h.jsx)("div",{className:"graph-view",children:Object(h.jsx)(ee.a,{data:a,margin:{top:10,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"-20",max:"100",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Days",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Temperature/Humidity",legendOffset:-40,legendPosition:"middle"},pointSize:10,pointBorderWidth:2,pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})]}),Object(h.jsxs)("div",{className:"graph-bottom-panel",children:[Object(h.jsx)("span",{children:"7 \u043c\u0430\u044f, 2020"}),Object(h.jsx)("span",{children:"7 \u043c\u0430\u044f, 2021"}),Object(h.jsx)("span",{children:"0:00"})]})]})})}te.defaultProps={data:[],title:"Undefined"};var ae=te;function ne(){var e=[{id:null,data:[]}],t=n.useState(e),a=Object(u.a)(t,2),s=a[0],c=a[1],i=n.useState(e),r=Object(u.a)(i,2),o=r[0],l=r[1],d=n.useState(e),j=Object(u.a)(d,2),b=j[0],v=j[1],m=w().request,p=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("/api/link/graphs","GET",null);case 3:return t=e.sent,e.abrupt("return",t.splice(t.length-10,10));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[m]),x=function(e){return"".concat(e.getUTCHours(),":").concat(e.getUTCMinutes(),":").concat(e.getUTCSeconds()," ").concat(e.getUTCDate(),"-").concat(e.getMonth()+1,"-").concat(e.getUTCFullYear())};return n.useEffect((function(){p().then((function(e){var t=[{id:"Temperature",data:e.map((function(e){var t=new Date(Date.parse(e.date));return{x:x(t),y:e.oth.temperature}}))},{id:"Humidity",data:e.map((function(e){var t=new Date(Date.parse(e.date));return{x:x(t),y:e.oth.humidity}}))}],a=[{id:"Temperature",data:e.map((function(e){var t=new Date(Date.parse(e.date));return{x:x(t),y:e.gth.temperature}}))},{id:"Humidity",data:e.map((function(e){var t=new Date(Date.parse(e.date));return{x:x(t),y:e.gth.humidity}}))}],n=[{id:"Temperature",data:e.map((function(e){var t=new Date(Date.parse(e.date));return{x:x(t),y:e.hth.temperature}}))},{id:"Humidity",data:e.map((function(e){var t=new Date(Date.parse(e.date));return{x:x(t),y:e.hth.humidity}}))}];c(t),v(a),l(n)}))}),[p]),n.useEffect((function(){document.title="Graphs page"})),Object(h.jsxs)("div",{className:"graph-page",children:[Object(h.jsx)("h2",{children:"Graphics"}),Object(h.jsx)(ae,{data:s,title:"Outside"}),Object(h.jsx)(ae,{data:o,title:"Home"}),Object(h.jsx)(ae,{data:b,title:"Garage"})]})}function se(){var e,t,a,s,c,i,r,o,l,d,j=n.useState([]),b=Object(u.a)(j,2),v=b[0],m=b[1],p=n.useState([]),x=Object(u.a)(p,2),f=x[0],k=x[1],N=w().request,y=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("/api/link/sensor/values","GET",null);case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[N]),S=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("/api/link/sensor/changable","GET",null);case 3:t=e.sent,k(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[N]);return n.useEffect((function(){document.title="First floor page"})),n.useEffect((function(){var e,t,a=!0;return a&&(setTimeout((function(){y(),S()}),1e3),e=setInterval((function(){y()}),3e4),t=setInterval((function(){S()}),1e3)),function(){clearInterval(e),clearInterval(t),a=!1}}),[y,S]),Object(h.jsx)(V,{data:[null===(e=v[0])||void 0===e?void 0:e.hth.humidity,null===(t=v[0])||void 0===t?void 0:t.hth.temperature,null===(a=v[0])||void 0===a?void 0:a.gas,null===(s=v[0])||void 0===s?void 0:s.lightr1],switchable:[null===(c=f[0])||void 0===c?void 0:c.isAutoLight1,null===(i=f[0])||void 0===i?void 0:i.firstFloorLight,null===(r=f[0])||void 0===r?void 0:r.firstFloorLight1,null===(o=f[0])||void 0===o?void 0:o.firstFloorLight2,null===(l=f[0])||void 0===l?void 0:l.firstFloorLight3,null===(d=f[0])||void 0===d?void 0:d.firstFloorLight4]})}function ce(){var e,t,a,s,c,i,r,o,l,d=n.useState([]),j=Object(u.a)(d,2),b=j[0],v=j[1],m=n.useState([]),p=Object(u.a)(m,2),x=p[0],f=p[1],k=w().request,N=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/link/sensor/values","GET",null);case 3:t=e.sent,v(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k]),y=n.useCallback(Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/link/sensor/changable","GET",null);case 3:t=e.sent,f(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k]);return n.useEffect((function(){document.title="Second floor page"})),n.useEffect((function(){var e,t,a=!0;return a&&(setTimeout((function(){N(),y()}),1e3),e=setInterval((function(){N()}),3e4),t=setInterval((function(){y()}),1e3)),function(){clearInterval(e),clearInterval(t),a=!1}}),[N,y]),Object(h.jsx)(V,{data:[null===(e=b[0])||void 0===e?void 0:e.hth.humidity,null===(t=b[0])||void 0===t?void 0:t.hth.temperature,null===(a=b[0])||void 0===a?void 0:a.lightr2],switchable:[null===(s=x[0])||void 0===s?void 0:s.isAutoLight2,null===(c=x[0])||void 0===c?void 0:c.secondFloorLight,null===(i=x[0])||void 0===i?void 0:i.secondFloorLight1,null===(r=x[0])||void 0===r?void 0:r.secondFloorLight2,null===(o=x[0])||void 0===o?void 0:o.secondFloorLight3,null===(l=x[0])||void 0===l?void 0:l.secondFloorLight4]})}a(428);var ie=function(){var e=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(null),i=Object(u.a)(c,2),r=i[0],o=i[1],l=Object(n.useCallback)((function(e,t,a){s(e),o(t),localStorage.setItem(d,JSON.stringify({userId:t,token:e,email:a}))}),[]),j=Object(n.useCallback)((function(){s(null),o(null),localStorage.removeItem(d)}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(d));e&&e.token&&l(e.token,e.userId,e.email)}),[l]),{login:l,logout:j,token:a,userId:r}}(),t=e.token,a=e.login,s=e.logout,c=e.userId,i=!!t,r=function(e){return e?Object(h.jsxs)(j.d,{children:[Object(h.jsxs)("div",{className:"main-content",children:[Object(h.jsx)(m,{}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(j.b,{path:"/",exact:!0,component:A}),Object(h.jsx)(j.b,{path:"/first-floor",exact:!0,component:se}),Object(h.jsx)(j.b,{path:"/second-floor",exact:!0,component:ce}),Object(h.jsx)(j.b,{path:"/outside",exact:!0,component:B}),Object(h.jsx)(j.b,{path:"/graphics",exact:!0,component:ne}),Object(h.jsx)(j.b,{path:"/notifications",exact:!0,component:$}),Object(h.jsx)(j.b,{path:"/settings",exact:!0,component:B})]}),Object(h.jsx)(E,{})]}),Object(h.jsx)(j.a,{to:"/"})]}):Object(h.jsxs)(j.d,{children:[Object(h.jsx)(j.b,{path:"/",exact:!0,component:Z}),Object(h.jsx)(j.b,{path:"/register",exact:!0,component:K}),Object(h.jsx)(j.a,{to:"/"})]})}(i);return Object(h.jsxs)(l.Provider,{value:{token:t,login:a,logout:s,userId:c,isAuthenticated:i},children:[Object(h.jsx)("link",{rel:"stylesheet",href:"./styles/".concat(b,"-theme.css")}),Object(h.jsx)("div",{children:r}),Object(h.jsxs)("div",{className:"dev-label",children:[Object(h.jsx)("div",{children:"HuskyDuckStudio"}),Object(h.jsx)("div",{children:"Project in development"})]})]})},re=a(18),oe=a(26),le=a(36),ue=a(37),de=function(){return Object(h.jsxs)("div",{classNam:"error-indicator",children:[Object(h.jsx)("img",{alt:"wtf",src:""}),Object(h.jsx)("span",{children:"Something went wrong!"})]})},je=function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(){var e;return Object(re.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(oe.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?de():this.props.children}}]),a}(n.Component);a(429);i.a.render(Object(h.jsx)(n.StrictMode,{children:Object(h.jsx)(r.a,{children:Object(h.jsx)(je,{children:Object(h.jsx)(ie,{})})})}),document.getElementById("root"))}},[[430,1,2]]]);
//# sourceMappingURL=main.eedc5241.chunk.js.map
